---
title: MySql-索引
date: 2024-08-22 11:40:15
tags:
---
在 MySQL 的 InnoDB 存储引擎中，直接创建哈希索引是不被支持的。InnoDB 引擎默认使用 B-tree 索引结构，并且不允许手动指定索引类型为哈希索引。

不过，InnoDB 会在某些情况下自动使用哈希索引的特性。具体来说，InnoDB 引擎在处理自适应哈希索引（Adaptive Hash Index, AHI）时，会根据查询模式动态地将一些 B-tree 索引部分转换为哈希索引，以加速等值查询。

自适应哈希索引（Adaptive Hash Index, AHI）是 InnoDB 存储引擎的一个自动优化特性，用于加速特定查询的性能。InnoDB 根据实际的查询模式来决定是否为某些 B-tree 索引生成哈希索引部分，以优化等值查询的速度。这个过程主要与查询模式和访问频率有关，而不是直接根据字段类型来决定。


解释 MySQL 中索引的类型（B-tree、Hash 等）及适用场景。
1. B-tree 索引

适用场景：

• 范围查询：B-tree 索引适合于范围查询，例如 BETWEEN、<、> 等操作。这是因为 B-tree 结构中的节点是有序的，可以快速找到范围内的记录。
• 排序操作：B-tree 索引在进行排序操作时也很高效，因为数据在索引中的顺序与实际数据顺序一致。
• 主键和唯一索引：通常情况下，B-tree 索引用于主键和唯一索引，以确保数据的唯一性和快速查找。
2. Hash 索引

适用场景：

• 等值查询：Hash 索引非常适合等值查询（例如 = 或者 IN），因为 Hash 索引基于哈希算法，可以直接定位到具体的记录。
• 高并发查询：在高并发的情况下，Hash 索引因为其快速查找的特性，可以提升查询性能。
总结

•	B-tree 索引适合大多数查询场景，包括等值查询和范围查询，是 MySQL 中最常用的索引类型。
•	Hash 索引适合高性能的等值查询，但不支持范围查询和排序操作。
•	Full-text 索引适合全文搜索，但不适合精确匹配。
•	R-tree 索引适合地理空间数据查询，常用于 GIS 系统中。
•	聚簇索引通常用于主键索引，适合需要快速数据检索的场景。
